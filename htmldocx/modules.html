<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¨¡å—æ–‡æ¡£ - HCL æ–‡æ¡£</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
        .module-section {
            margin: 40px 0;
            padding: 20px;
            background: white;
            border-radius: 10px;
            border-left: 4px solid #4a90e2;
        }
        
        .module-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .module-icon {
            font-size: 2.5em;
            margin-right: 15px;
        }
        
        .module-info {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
        }
        
        .api-method {
            background: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
            border-left: 3px solid #4a90e2;
        }
        
        .method-signature {
            background: #e3f2fd;
            padding: 10px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            margin: 10px 0;
        }
        
        .param-table {
            width: 100%;
            border-collapse: collapse;
            margin: 10px 0;
        }
        
        .param-table th, .param-table td {
            border: 1px solid #ddd;
            padding: 8px;
        }
        
        .param-table th {
            background: #e3f2fd;
        }
        
        .code-example {
            background: #2b2b2b;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
        }
        
        .keyword { color: #cc7832; }
        .function { color: #ffc66d; }
        .string { color: #6a8759; }
        .comment { color: #808080; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ§© æ¨¡å—æ–‡æ¡£</h1>
            <p>HCL å¯åŠ¨å™¨æ ¸å¿ƒæ¨¡å—è¯¦ç»†æ–‡æ¡£</p>
        </header>
        
        <nav>
            <a href="index.html">â† è¿”å›é¦–é¡µ</a>
        </nav>
        
        <!-- AvatarManager -->
        <section id="avatar-manager" class="module-section">
            <div class="module-header">
                <div class="module-icon">ğŸ¨</div>
                <div>
                    <h2>AvatarManager</h2>
                    <p>å¤´åƒç®¡ç†å™¨ - è´Ÿè´£ç©å®¶å¤´åƒçš„è·å–ã€ç¼“å­˜å’Œæ˜¾ç¤º</p>
                </div>
            </div>
            
            <div class="module-info">
                <p><strong>æ–‡ä»¶ä½ç½®:</strong> <code>src/core/AvatarManager.js</code></p>
                <p><strong>ä¾èµ–:</strong> DataManager</p>
            </div>
            
            <h3>ğŸ“‹ åŠŸèƒ½æ¦‚è¿°</h3>
            <ul>
                <li>æ”¯æŒå¤šç§å¤´åƒæº (Crafatar, Minotar, MC-Heads)</li>
                <li>æ™ºèƒ½ç¼“å­˜æœºåˆ¶ (å†…å­˜ + æœ¬åœ°å­˜å‚¨)</li>
                <li>æ‰¹é‡å¤´åƒè·å–</li>
                <li>ç¦»çº¿å¤´åƒç”Ÿæˆ</li>
                <li>Web Component æ”¯æŒ</li>
            </ul>
            
            <h3>ğŸš€ å¿«é€Ÿä½¿ç”¨</h3>
            <div class="code-example">
<span class="comment">// åˆå§‹åŒ–</span><br>
<span class="keyword">const</span> dataManager = <span class="keyword">new</span> DataManager();<br>
<span class="keyword">await</span> dataManager.init();<br>
<span class="keyword">const</span> avatarManager = <span class="keyword">new</span> <span class="function">AvatarManager</span>(dataManager);<br><br>

<span class="comment">// è·å–å•ä¸ªå¤´åƒ</span><br>
<span class="keyword">const</span> avatar = <span class="keyword">await</span> avatarManager.<span class="function">getAvatar</span>(<span class="string">'Notch'</span>);<br><br>

<span class="comment">// æ‰¹é‡è·å–</span><br>
<span class="keyword">const</span> accounts = [<br>
&nbsp;&nbsp;{ username: <span class="string">'Steve'</span> },<br>
&nbsp;&nbsp;{ username: <span class="string">'Alex'</span> }<br>
];<br>
<span class="keyword">const</span> avatars = <span class="keyword">await</span> avatarManager.<span class="function">batchGetAvatars</span>(accounts, onProgress);
            </div>
            
            <h3>ğŸ”§ API å‚è€ƒ</h3>
            
            <div class="api-method">
                <h4>getAvatar(username, uuid, forceRefresh)</h4>
                <p>è·å–ç©å®¶å¤´åƒ</p>
                
                <div class="method-signature">
                    async getAvatar(username: string, uuid?: string, forceRefresh: boolean = false): Promise&lt;string&gt;
                </div>
                
                <table class="param-table">
                    <tr>
                        <th>å‚æ•°</th>
                        <th>ç±»å‹</th>
                        <th>è¯´æ˜</th>
                    </tr>
                    <tr>
                        <td>username</td>
                        <td>string</td>
                        <td>ç©å®¶ç”¨æˆ·å</td>
                    </tr>
                    <tr>
                        <td>uuid</td>
                        <td>string</td>
                        <td>ç©å®¶UUID (å¯é€‰)</td>
                    </tr>
                    <tr>
                        <td>forceRefresh</td>
                        <td>boolean</td>
                        <td>å¼ºåˆ¶åˆ·æ–°ç¼“å­˜ï¼Œé»˜è®¤ false</td>
                    </tr>
                </table>
                
                <p><strong>è¿”å›å€¼:</strong> å¤´åƒçš„ DataURL å­—ç¬¦ä¸²</p>
            </div>
            
            <div class="api-method">
                <h4>batchGetAvatars(accounts, onProgress)</h4>
                <p>æ‰¹é‡è·å–å¤´åƒ</p>
                
                <div class="method-signature">
                    async batchGetAvatars(accounts: Array, onProgress: Function): Promise&lt;Array&gt;
                </div>
            </div>
            
            <h3>âš™ï¸ é…ç½®é¡¹</h3>
            <table class="param-table">
                <tr>
                    <th>é…ç½®</th>
                    <th>å¯é€‰å€¼</th>
                    <th>é»˜è®¤</th>
                    <th>è¯´æ˜</th>
                </tr>
                <tr>
                    <td>avatarSource</td>
                    <td>crafatar | minotar | mc-heads</td>
                    <td>crafatar</td>
                    <td>å¤´åƒæº</td>
                </tr>
            </table>
        </section>
        
        <!-- AccountManager -->
        <section id="account-manager" class="module-section">
            <div class="module-header">
                <div class="module-icon">ğŸ‘¤</div>
                <div>
                    <h2>AccountManager</h2>
                    <p>è´¦æˆ·ç®¡ç†å™¨ - ç®¡ç† Microsoftã€ç¬¬ä¸‰æ–¹å’Œç¦»çº¿è´¦æˆ·</p>
                </div>
            </div>
            
            <h3>ğŸ“‹ è´¦æˆ·ç±»å‹</h3>
            <ul>
                <li><strong>Microsoft è´¦æˆ·:</strong> OAuth2 è®¤è¯ï¼Œæ­£ç‰ˆéªŒè¯</li>
                <li><strong>ç¬¬ä¸‰æ–¹è´¦æˆ·:</strong> å¤–ç½®ç™»å½•æ”¯æŒ</li>
                <li><strong>ç¦»çº¿è´¦æˆ·:</strong> å¿«é€Ÿåˆ›å»ºï¼Œæœ¬åœ°å­˜å‚¨</li>
            </ul>
            
            <h3>ğŸš€ å¿«é€Ÿä½¿ç”¨</h3>
            <div class="code-example">
<span class="comment">// æ·»åŠ  Microsoft è´¦æˆ·</span><br>
<span class="keyword">const</span> accountId = <span class="keyword">await</span> accountManager.<span class="function">addAccount</span>({<br>
&nbsp;&nbsp;type: <span class="string">'microsoft'</span>,<br>
&nbsp;&nbsp;username: <span class="string">'Player123'</span>,<br>
&nbsp;&nbsp;accessToken: <span class="string">'xxx'</span>,<br>
&nbsp;&nbsp;refreshToken: <span class="string">'xxx'</span><br>
});<br><br>

<span class="comment">// è·å–è´¦æˆ·åˆ—è¡¨</span><br>
<span class="keyword">const</span> accounts = accountManager.<span class="function">getAccounts</span>();<br><br>

<span class="comment">// åˆ‡æ¢è´¦æˆ·</span><br>
<span class="keyword">await</span> accountManager.<span class="function">setCurrentAccount</span>(accountId);
            </div>
            
            <h3>ğŸ”§ æ•°æ®ç»“æ„</h3>
            <div class="code-example">
{<br>
&nbsp;&nbsp;<span class="string">"id"</span>: <span class="string">"msa_123456"</span>,<br>
&nbsp;&nbsp;<span class="string">"type"</span>: <span class="string">"microsoft"</span>,<br>
&nbsp;&nbsp;<span class="string">"username"</span>: <span class="string">"Player123"</span>,<br>
&nbsp;&nbsp;<span class="string">"uuid"</span>: <span class="string">"d1b37b12a..."</span>,<br>
&nbsp;&nbsp;<span class="string">"avatar"</span>: <span class="string">"data:image/png;base64,..."</span>,<br>
&nbsp;&nbsp;<span class="string">"accessToken"</span>: <span class="string">"encrypted_token"</span>,<br>
&nbsp;&nbsp;<span class="string">"lastUsed"</span>: <span class="number">1700000000000</span><br>
}
            </div>
        </section>
        
        <!-- GameManager -->
        <section id="game-manager" class="module-section">
            <div class="module-header">
                <div class="module-icon">ğŸ®</div>
                <div>
                    <h2>GameManager</h2>
                    <p>æ¸¸æˆç®¡ç†å™¨ - è´Ÿè´£ Minecraft æ¸¸æˆçš„å¯åŠ¨ã€ç›‘æ§å’Œç®¡ç†</p>
                </div>
            </div>
            
            <h3>ğŸ“‹ åŠŸèƒ½ç‰¹æ€§</h3>
            <ul>
                <li>æ¸¸æˆè¿›ç¨‹å¯åŠ¨å’Œç®¡ç†</li>
                <li>JVM å‚æ•°è‡ªåŠ¨ä¼˜åŒ–</li>
                <li>æ¸¸æˆè¾“å‡ºç›‘æ§</li>
                <li>å´©æºƒæ£€æµ‹å’Œæ¢å¤</li>
            </ul>
            
            <h3>ğŸš€ å¿«é€Ÿä½¿ç”¨</h3>
            <div class="code-example">
<span class="comment">// å¯åŠ¨æ¸¸æˆ</span><br>
<span class="keyword">const</span> result = <span class="keyword">await</span> gameManager.<span class="function">launchGame</span>({<br>
&nbsp;&nbsp;account: currentAccount,<br>
&nbsp;&nbsp;version: selectedVersion,<br>
&nbsp;&nbsp;javaPath: config.javaPath,<br>
&nbsp;&nbsp;memory: config.memory<br>
});<br><br>

<span class="comment">// ç›‘å¬æ¸¸æˆè¾“å‡º</span><br>
gameManager.on(<span class="string">'game-output'</span>, (output) => {<br>
&nbsp;&nbsp;console.<span class="function">log</span>(<span class="string">'æ¸¸æˆè¾“å‡º:'</span>, output);<br>
});<br><br>

<span class="comment">// åœæ­¢æ¸¸æˆ</span><br>
gameManager.<span class="function">stopGame</span>();
            </div>
        </section>
        
        <!-- DownloadManager -->
        <section id="download-manager" class="module-section">
            <div class="module-header">
                <div class="module-icon">âš¡</div>
                <div>
                    <h2>DownloadManager</h2>
                    <p>ä¸‹è½½ç®¡ç†å™¨ - è´Ÿè´£æ¸¸æˆæ–‡ä»¶çš„å¤šçº¿ç¨‹ä¸‹è½½å’Œç®¡ç†</p>
                </div>
            </div>
            
            <h3>ğŸ“‹ åŠŸèƒ½ç‰¹æ€§</h3>
            <ul>
                <li>å¤šçº¿ç¨‹ä¸‹è½½ (2-4 çº¿ç¨‹)</li>
                <li>æ–­ç‚¹ç»­ä¼ æ”¯æŒ</li>
                <li>BMCLAPI é•œåƒæ”¯æŒ</li>
                <li>ä¸‹è½½è¿›åº¦å®æ—¶æ˜¾ç¤º</li>
            </ul>
            
            <h3>ğŸš€ å¿«é€Ÿä½¿ç”¨</h3>
            <div class="code-example">
<span class="comment">// ä¸‹è½½æ–‡ä»¶</span><br>
<span class="keyword">await</span> downloadManager.<span class="function">downloadFile</span>(url, savePath, <span class="number">2</span>);<br><br>

<span class="comment">// è·å–ç‰ˆæœ¬åˆ—è¡¨</span><br>
<span class="keyword">const</span> versions = <span class="keyword">await</span> downloadManager.<span class="function">getVersionList</span>();<br><br>

<span class="comment">// ä¸‹è½½æ¸¸æˆç‰ˆæœ¬</span><br>
<span class="keyword">await</span> downloadManager.<span class="function">downloadVersion</span>(versionId);
            </div>
        </section>
        
        <!-- å…¶ä»–æ¨¡å— -->
        <section class="module-section">
            <h2>å…¶ä»–æ¨¡å—</h2>
            
            <h3>ConfigManager</h3>
            <p>é…ç½®æ–‡ä»¶ç®¡ç†ï¼Œæ”¯æŒå¤šå¹³å°è·¯å¾„é€‚é…</p>
            <p><strong>é…ç½®æ–‡ä»¶:</strong> hcl-config.json</p>
            
            <h3>DataManager</h3>
            <p>æœ¬åœ°æ•°æ®å­˜å‚¨ç®¡ç† (accounts, settings, cache)</p>
            <p><strong>æ•°æ®æ–‡ä»¶:</strong> data.json</p>
        </section>
        
        <footer>
            <p>
                <a href="features.html">â† åŠŸèƒ½ç‰¹æ€§</a> | 
                <a href="api.html">ä¸‹ä¸€æ­¥ï¼šAPI å‚è€ƒ â†’</a>
            </p>
        </footer>
    </div>
</body>
</html>
